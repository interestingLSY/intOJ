{% extends 'base.html' %}
{% block title %} 评测记录R{{record[0]}} {% endblock %}
{% block selected_status %} selected {% endblock %}
{% block body %}
<div class="ui main">
	<div class="block">
		<form method="POST">
		<div class="contitle"> 评测记录R{{record[0]}}
			<button type="submit" class="button button-small button-primary button-square button-rounded" name="rejudge" style="float:right; margin-top: 3px;"> <i class="icon-repeat"></i> </button>
		</div>
		</form>
	</div>
	<div class="block">
		<div class="content">
			<div class="list">
				<div class="listline">
					<span class="listitem onewide center"> 题目 </span>
					<span class="listitem fivewide center"> 状态 </span>
					<span class="listitem onewide center"> 得分 </span>
					<span class="listitem onewide center"> 时间 </span>
					<span class="listitem onewide center"> 内存 </span>
					<span class="listitem threewide center"> 提交者 </span>
				</div>
				<div class="listline" onselectstart="return false;" id="overview">
					{% if record[12] == 0 %}
					<span class="listitem onewide center"> <a href="/problem/{{record[1]}}"> P{{ record[1] }} </a> </span>
					{% else %}
					<span class="listitem onewide center"> <a href="/contest/{{record[12]}}/problem/{{record[1]}}"> P{{ record[1] }} </a> </span>
					{% endif %}
					<span class="listitem fivewide center">
						<span class="judge-{{ record[4] }}" long_or_short="long">
							<i class="icon-{{ statusicon[record[4]] }}" aria-hidden="true"></i>  {{ tostatus[record[4]] }}
						</span>
					</span>
					<span class="listitem onewide center" style="color:{{Score_Color(record[5])}}" id="overview_score"> {{ Toint(record[5]) }} </span>
					{% if tostatus[record[4]] not in ["Waiting","Compile Error","Unknown Error"] %}
					<span class="listitem onewide center" id="overview_time_usage"> {{ record[8] }}ms </span>
					<span class="listitem onewide center" id="overview_memory_usage"> {{ record[9] }}M </span>
					{% else %}
					<span class="listitem onewide center" id="overview_time_usage"> </span>
					<span class="listitem onewide center" id="overview_memory_usage"> </span>
					{% endif %}
					<span class="listitem threewide center"> <a href="/user/{{record[11]}}"> {{record[11]}} </a> </span>
					<span hidden="true" id="status"> {{record[4]}} </span>
				</div>
			</div>
		</div>
	</div>
	{%if record[11] != "Compile Error" %}
	<div class="block">
		<div class="contitle"> 测试点信息 </div>
		<div class="content">
			<div class="list">
				<div class="listline">
					<span class="listitem onewide center"> 编号 </span>
					<span class="listitem fivewide center"> 状态 </span>
					<span class="listitem onewide center"> 得分 </span>
					<span class="listitem onewide center"> 时间 </span>
					<span class="listitem onewide center"> 内存 </span>
				</div>
				<div id="subtasks">
				{% for subtask in subtasks %}
				<div class="listline listline-animation" onclick="Click({{loop.index}});">
					<span class="listitem onewide center"> #{{subtask['id']}} </span>
					<span class="listitem fivewide center">
						<span class="judge-{{ subtask['status'] }}" long_or_short="long">
							<i class="icon-{{ statusicon[subtask['status']] }}" aria-hidden="true"></i>
							{{ tostatus[subtask['status']] }}
						</span>
					</span>
					{% if subtask['status_name'] not in ["Waiting","Compile Error","Unknown Error"] %}
					<span class="listitem onewide center" style="color:{{Score_Color(subtask['score'],subtask['full_score'])}};">
						{{ Toint(subtask['score']) }}<span style="font-size: 10px" class="dropdown-{{loop.index}}" show_or_hide="hide" hidden="hidden">/{{subtask['full_score']}}</span>
					</span>
					<span class="listitem onewide center"> {{ subtask['time_usage'] }}ms </span>
					<span class="listitem onewide center"> {{ subtask['memory_usage'] }}M </span>
					{% else %}
					<span class="listitem onewide center"> </span>
					<span class="listitem onewide center"> </span>
					<span class="listitem onewide center"> </span>
					{% endif %}
				</div>
				{% if record[12] == 0 %}
				<div class="dropdown dropdown-{{loop.index}}" hidden="hidden">
					<div class="markdown">
{% if subtask['checker_message'] != "" %}
### 比较器信息

```plain
{{ subtask['checker_message'] }}
```
{% endif %}
{% if subtask['judger_message'] != "" %}
### 评测器信息

```plain
{{ subtask['judger_message'] }}
```
{% endif %}
					</div>
				</div>
				{% endif %}
				{% endfor %}
				</div>
			</div>
		</div>
	</div>
	{% endif %}
	{% if record[6] != "" %}
	<div class="block">
		<div class="contitle"> 编译信息 </div>
		<div class="content">
			<pre><code class="plaintext">{{ record[6] }}</code></pre>
		</div>
	</div>
	{% endif %}
	<div class="block">
		<div class="contitle"> 源代码 </div>
		<div class="content">
			<pre><code class="{{record[3]}}">{{ record[2] }}</code></pre>
		</div>
	</div>
	{% if record[10] != "" %}
	<div class="block">
		<div class="contitle"> 系统信息 </div>
		<div class="content">
			<pre><code class="plaintext">{{ record[10] }}</code></pre>
		</div>
	</div>
	{% endif %}
</div>
<script>
Refresh_Begin({{record[0]}});
</script>
{% endblock %}
